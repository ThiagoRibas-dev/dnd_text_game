{
  "$defs": {
    "AbsorptionSpec": {
      "properties": {
        "absorbTypes": {
          "items": {
            "enum": [
              "any",
              "physical",
              "physical.bludgeoning",
              "physical.piercing",
              "physical.slashing",
              "acid",
              "cold",
              "electricity",
              "fire",
              "sonic",
              "force",
              "negative",
              "positive",
              "nonlethal",
              "bleed",
              "typeless"
            ],
            "type": "string"
          },
          "title": "Absorbtypes",
          "type": "array"
        },
        "absorbPerHit": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Absorbperhit"
        },
        "absorbOrder": {
          "anyOf": [
            {
              "enum": [
                "before_resist",
                "after_resist_before_dr",
                "after_dr",
                "final"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Absorborder"
        }
      },
      "title": "AbsorptionSpec",
      "type": "object"
    },
    "CapacitySpec": {
      "properties": {
        "formula": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            }
          ],
          "title": "Formula"
        },
        "cap": {
          "anyOf": [
            {
              "type": "integer"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Cap"
        },
        "computeAt": {
          "anyOf": [
            {
              "enum": [
                "attach",
                "refresh",
                "query"
              ],
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": "attach",
          "title": "Computeat"
        }
      },
      "required": [
        "formula"
      ],
      "title": "CapacitySpec",
      "type": "object"
    },
    "ResourceRefresh": {
      "properties": {
        "cadence": {
          "enum": [
            "per_round",
            "per_encounter",
            "per_rest",
            "per_day",
            "per_week",
            "special"
          ],
          "title": "Cadence",
          "type": "string"
        },
        "behavior": {
          "default": "reset_to_max",
          "enum": [
            "reset_to_max",
            "increment_by",
            "no_change"
          ],
          "title": "Behavior",
          "type": "string"
        },
        "increment_by": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "integer"
            },
            {
              "type": "number"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Increment By"
        },
        "triggers": {
          "anyOf": [
            {
              "items": {
                "type": "string"
              },
              "type": "array"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Triggers"
        }
      },
      "required": [
        "cadence"
      ],
      "title": "ResourceRefresh",
      "type": "object"
    }
  },
  "properties": {
    "id": {
      "title": "Id",
      "type": "string"
    },
    "name": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Name"
    },
    "scope": {
      "default": "entity",
      "enum": [
        "entity",
        "effect-instance",
        "item",
        "zone"
      ],
      "title": "Scope",
      "type": "string"
    },
    "capacity": {
      "$ref": "#/$defs/CapacitySpec"
    },
    "initial_current": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "integer"
        },
        {
          "type": "number"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Initial Current"
    },
    "refresh": {
      "anyOf": [
        {
          "$ref": "#/$defs/ResourceRefresh"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "expiry": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              }
            ]
          },
          "type": "object"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Expiry"
    },
    "absorption": {
      "anyOf": [
        {
          "$ref": "#/$defs/AbsorptionSpec"
        },
        {
          "type": "null"
        }
      ],
      "default": null
    },
    "visibility": {
      "anyOf": [
        {
          "enum": [
            "public",
            "private",
            "hidden"
          ],
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": "public",
      "title": "Visibility"
    },
    "stacking": {
      "anyOf": [
        {
          "additionalProperties": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "integer"
              }
            ]
          },
          "type": "object"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Stacking"
    },
    "recomputeOn": {
      "anyOf": [
        {
          "items": {
            "type": "string"
          },
          "type": "array"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Recomputeon"
    },
    "freezeOnAttach": {
      "anyOf": [
        {
          "type": "boolean"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Freezeonattach"
    },
    "notes": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Notes"
    }
  },
  "required": [
    "id",
    "capacity"
  ],
  "title": "ResourceDefinition",
  "type": "object"
}